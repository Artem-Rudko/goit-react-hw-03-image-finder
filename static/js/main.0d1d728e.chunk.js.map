{"version":3,"sources":["components/SearchBar/SearchBar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImagaGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/images-api.js","App.js","index.js"],"names":["SearchBar","state","inputValue","inputValueHandler","event","setState","target","value","formSbmitHandler","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","onClick","children","ImageGalleryItem","id","webformatURL","tags","onImgClick","src","alt","defaultProps","ImageGallery","gallery","map","largeImageURL","Button","getImages","currentPage","searchQuery","axios","get","App","input","currentImg","imageGallery","isLoading","error","inputSubmit","fetchImages","then","response","prevState","data","hits","scrollTo","top","scrollHeight","behavior","catch","finally","toggleModal","showCurrentImg","url","prevProps","shouldRenderLoadMoreBtn","length","style","color","secondaryColor","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0d1d728e.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SearchBar.css';\r\n\r\nclass SearchBar extends Component {\r\n    state = {\r\n        inputValue: '',\r\n    };\r\n\r\n    inputValueHandler = event => {\r\n        this.setState({ inputValue: event.target.value });\r\n    };\r\n\r\n    formSbmitHandler = event => {\r\n        event.preventDefault();\r\n        this.props.onSubmit(this.state);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={this.formSbmitHandler}>\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                        <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className=\"SearchForm-input\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        value={this.state.inputValue}\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.inputValueHandler}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = event => {\n        if (event.code === 'Escape') {\n            this.props.onClose();\n        }\n    };\n\n    handleBackdropClick = event => {\n        if (event.target === event.currentTarget) {\n            this.props.onClose();\n        }\n    };\n\n    render() {\n        return createPortal(\n            <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n                <div className=\"Modal\">{this.props.children}</div>\n            </div>,\n            modalRoot,\n        );\n    }\n}\n\nModal.propTypes = {\n    children: PropTypes.node.isRequired,\n    onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import PropTypes from 'prop-types';\r\nimport './ImageGalleryItem.css';\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, tags, onImgClick }) => (\r\n    <li key={id} className=\"ImageGalleryItem\">\r\n        <img\r\n            src={webformatURL}\r\n            alt={tags}\r\n            className=\"ImageGalleryItem-image\"\r\n            onClick={onImgClick}\r\n        />\r\n    </li>\r\n);\r\n\r\nImageGalleryItem.defaultProps = {\r\n    tags: 'some img',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n    onImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport './ImageGallery.css';\r\n\r\nconst ImageGallery = ({ gallery, onImgClick }) => (\r\n    <ul className=\"ImageGallery\">\r\n        {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <ImageGalleryItem\r\n                key={id}\r\n                id={id}\r\n                webformatURL={webformatURL}\r\n                tags={tags}\r\n                onImgClick={() => onImgClick(largeImageURL, tags)}\r\n            />\r\n        ))}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    gallery: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            largeImageURL: PropTypes.string.isRequired,\r\n        }),\r\n    ).isRequired,\r\n    onImgClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport './Button.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <button type=\"button\" className=\"loadMoreBtn button\" onClick={onClick}>\r\n            Load more\r\n        </button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst LOG = '21433732-4f4ab4e06b98cffafd914747a';\n\nconst getImages = (currentPage, searchQuery) => {\n    return axios.get(\n        `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${LOG}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n};\n\nexport { getImages };\n","import { Component } from 'react';\nimport SearchBar from './components/SearchBar';\nimport Modal from './components/Modal';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport { getImages } from '../src/services/images-api';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n// import PropTypes from 'prop-types';\nimport './styles.css';\n\nclass App extends Component {\n    state = {\n        input: '',\n        // showModal: false,\n        currentImg: '',\n        tags: '',\n        imageGallery: [],\n        currentPage: 1,\n        searchQuery: '',\n        isLoading: false,\n        error: null,\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.searchQuery !== this.state.searchQuery) {\n            this.fetchImages();\n        }\n    }\n\n    inputSubmit = ({ inputValue }) => {\n        // event.preventDefault();\n        this.setState({\n            searchQuery: inputValue,\n            currentPage: 1,\n            imageGallery: [],\n            error: null,\n        });\n    };\n\n    fetchImages = () => {\n        const { currentPage, searchQuery } = this.state;\n\n        this.setState({ isLoading: true });\n\n        getImages(currentPage, searchQuery)\n            .then(response => {\n                this.setState(prevState => ({\n                    imageGallery: [\n                        ...prevState.imageGallery,\n                        ...response.data.hits,\n                    ],\n                    currentPage: prevState.currentPage + 1,\n                }));\n\n                window.scrollTo({\n                    top: document.querySelector('.ImageGallery').scrollHeight,\n                    behavior: 'smooth',\n                });\n            })\n            .catch(error => this.setState({ error: error }))\n            .finally(() => this.setState({ isLoading: false }));\n    };\n\n    toggleModal = () => {\n        this.setState(state => ({\n            // showModal: !state.showModal,\n            currentImg: '',\n        }));\n    };\n\n    showCurrentImg = (url, tags) => {\n        this.setState({ currentImg: url, tags: tags });\n    };\n\n    render() {\n        const { currentImg, imageGallery, tags, isLoading, error } = this.state;\n        const shouldRenderLoadMoreBtn = imageGallery.length > 0 && !isLoading;\n\n        return (\n            <div className=\"App\">\n                <SearchBar onSubmit={this.inputSubmit} />\n                {currentImg && (\n                    <Modal onClose={this.toggleModal}>\n                        <img src={currentImg} alt={tags} />\n                    </Modal>\n                )}\n\n                {error && (\n                    <h2 style={{ color: 'rgba(253, 29, 29, 1)' }}>\n                        Something went wrong. Please, try again!\n                    </h2>\n                )}\n\n                <ImageGallery\n                    gallery={imageGallery}\n                    onImgClick={this.showCurrentImg}\n                />\n\n                {isLoading && (\n                    <Loader\n                        className=\"Loader\"\n                        type=\"MutatingDots\"\n                        color=\"rgba(253, 29, 29, 1)\"\n                        secondaryColor=\"rgba(252, 176, 69, 1)\"\n                        height={100}\n                        width={100}\n                    />\n                )}\n\n                {shouldRenderLoadMoreBtn && (\n                    <Button onClick={this.fetchImages} />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}